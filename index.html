<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <title>COCKING COOKIES</title>
        <style>
            body {
                text-align: center;
                font-family: 'Comic Sans MS', cursive, sans-serif;
                background: linear-gradient(135deg, #ffd196 60%, #d1bfa3 100%);
                margin: 0;
            }
            #main-panel {
               background:  rgba(0,0,0,0.10);
                border-radius: 20px;
                box-shadow: 0 8px 32px rgba(0,0,0,0.15);
                display: inline-block;
                padding: 30px 40px;
                margin-top: 40px;
            }
            #titulo-juego {
            font-family: 'Comic Sans MS', cursive;
            font-size: 45px;
            color: #ffe8b2;
            text-shadow: 0 0 8px #ff914d, 0 0 16px #ff914d;
            letter-spacing: 2px;
            text-align: center;
            animation: reboteCaricaturesco 4s ease-in-out infinite;
            transform-origin: center;
            }

            @keyframes reboteCaricaturesco {
            0%   { transform: scale(1) rotate(0deg);   }
            20%  { transform: scale(1.2, 0.8) rotate(-5deg); }
            40%  { transform: scale(0.9, 1.1) rotate(5deg);  }
            60%  { transform: scale(1.3) rotate(-3deg); }
            80%  { transform: scale(0.95) rotate(3deg); }
            100% { transform: scale(1) rotate(0deg);   }
            
        }
            #cookie {
                width: 220px;
                cursor: pointer;
                z-index: 1;
                transition: transform 0.1;
            }
            #cookie.clicked {
                animation: pop 0.2;
            }
            @keyframes pop {
                0% { transform: scale(1); }
                50% { transform: scale(1.15); }
                100% { transform: scale(1); }
            }
            #cookie:active {
                transform: scale(0.951)
            }
            #contador, #monedas {
                font-size: 3em;
                position: relative;
                margin: 20px;
                color: #fffaf0;
                text-shadow: 2px 2px 4px #6b4f3b;
                font-weight: 700;
                font-family: 'Comic Sans MS', cursive, sans-serif;
                transform: scale(1);
                transition: transform 0.2s;
            }
            #contador::before {
                content: "üç™";
                position: absolute;
                left: 26%;
                top: 50%;
                transform: translateY(-50%);
                font-size: 1.5em;
                opacity: 1;
                pointer-events: none;
                z-index: 0;
            }

            #monedas::before {
                content: "üí∞";
                position: absolute;
                left: 26%;
                top: 50%;
                transform: translateY(-50%);
                font-size: 1.5em;
                opacity: 1;
                pointer-events: none;
                z-index: 0;
            }

            .texto-numero {
                position: relative;
                z-index: 1; /* El texto va delante del emoji */
            }
            #contador:hover, #monedas:hover {
                transform: scale(1.05);
            }
            .mejora, #vender {
                font-size: 1.1em;
                font-family: 'Comic Sans MS', cursive, sans-serif;
                color: #fffaf0;
                margin: 10px;
                padding: 12px 28px;
                border-radius: 12px;
                border: none;;
                background:linear-gradient(90deg, #31291b 60%, #523d22 100%);
                box-shadow: 0 2px 8px rgba(63, 63, 63, 0.1);
                cursor: pointer;
                transition: background 0.2s, transform 0.1s;
            }
            .mejora:hover::after {
                content: "";
                position: absolute;
                top: 0;
                left: 0%;
                width: 110%;
                height: 100%;
                background: linear-gradient(90deg, transparent, rgba(255, 70, 70, 0.3), transparent);
                animation: brillo 1.2s;
                border-radius: 12px;
                pointer-events: none;
            }

            @keyframes brillo {
                0% { left: 0%; }
                20% { left: 0%; }
            }

            .mejora:hover {
                background: linear-gradient(90deg, #ffd867, #ff914d);
                transform: scale(1.1) rotate(-1deg);
                box-shadow: 0 0 12px #ffe4a0, 0 0 24px #ffc970;
                color: #4b2600;
                transition: all 0.2s ease;
            }
            #vender:hover {
                background: linear-gradient(90deg, #2ebe02, #108d00);
                transform: scale(1.1) rotate(-1deg);
                box-shadow: 0 0 12px #ffe4a0, 0 0 24px #ffc970;
                color: #ffffff;
                transition: all 0.2s ease;
            }
            #vender:hover::after {
                content: "";
                position: absolute;
                top: 0;
                left: 0%;
                width: 100%;
                height: 100%;
                background: linear-gradient(90deg, transparent, rgba(13, 56, 94, 0.3), transparent);
                animation: brillo 1.2s;
                border-radius: 12px;
                pointer-events: none;
            }

            @keyframes brillo {
                0% { left: 0%; }
                20% { left: 0%; }
            }
            #control-sonido button {
            font-size: 1em;
            padding: 10px 20px;
            margin: 5px;
            border: none;
            border-radius: 8px;
            background: linear-gradient(135deg, #ffb84c, #ff914d);
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
            color: #3d1f00;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s, background 0.3s;
            }
            #control-sonido button:hover {
            transform: scale(1.07);
            background: linear-gradient(135deg, #ffd867, #ffc970);
            }
            .particle {
                position: absolute;
                z-index: 0;
                pointer-events: none;
                font-weight: bold;
                font-size: 2em;
                color: #d9ebc9;
                text-shadow: 0 1px #1a1919;
                width: 24px;
                height: 24px;
                background: url('https://static.vecteezy.com/system/resources/previews/049/576/240/non_2x/a-cartoon-chocolate-chip-cookie-png.png') no-repeat center/contain;
                opacity: 0.8;
                animation: particle-fall 0.8s forwards;
            }
            @keyframes particle-fall {
                0% { opacity: 1; transform: translateY(0) scale(1);}
                80% { opacity: 0.7; transform: translateY(-40px) scale(1.2);}
                100% { opacity: 0; transform: translateY(-80px) scale(0.5);}
            }
            @keyframes aparecer {
            0% { opacity: 0; transform: translateY(-8px); }
            100% { opacity: 1; transform: translateY(0); }
            }
            #logros-panel {
            margin-top: 20px;
            padding: 16px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.3);
            color: #fffaf0;
            font-family: 'Comic Sans MS', cursive;
            }

            #lista-logros li {
            background: linear-gradient(90deg, #ffd867, #ff914d);
            color: #3d1f00;
            padding: 12px 16px;
            margin-bottom: 10px;
            border-radius: 8px;
            box-shadow: 0 0 6px rgba(0,0,0,0.1);
            font-weight: bold;
            animation: aparecerLogro 0.4s ease-out;
            transition: transform 0.2s;
            }

            #lista-logros li:hover {
            transform: scale(1.03);
            }

            @keyframes aparecerLogro {
            0% { opacity: 0; transform: translateY(-10px); }
            100% { opacity: 1; transform: translateY(0); }
            }
            .confeti {
            position: fixed;
            top: -40px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: red;
            animation: caerConfeti 2s ease-out forwards;
            z-index: 9999;
            }

            @keyframes caerConfeti {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
            }
            .logro-item {
            margin-bottom: 8px;
            padding: 10px 12px;
            border-radius: 8px;
            background: linear-gradient(90deg, #ffb84c, #ff914d);
            color: #3d1f00;
            font-weight: bold;
            font-family: 'Comic Sans MS', cursive;
            box-shadow: 0 0 6px rgba(0, 0, 0, 0.2);
            animation: aparecer 0.3s ease-out;
            }

            @keyframes aparecer {
            0% { opacity: 0; transform: translateY(-8px); }
            100% { opacity: 1; transform: translateY(0); }
            }
            .fuego-logro {
            position: fixed;
            width: 80px;
            height: 80px;
            background: radial-gradient(ellipse at center, #ffaf40 0%, #ff4500 70%, transparent 100%);
            border-radius: 50%;
            pointer-events: none;
            animation: explotarFuego 0.7s ease-out forwards;
            z-index: 9999;
            }

            @keyframes explotarFuego {
            0% {
                opacity: 0.9;
                transform: scale(0.5) translateY(0);
                filter: blur(0px);
            }
            50% {
                transform: scale(1.2) translateY(-30px);
                filter: blur(2px);
            }
            100% {
                opacity: 0;
                transform: scale(0.8) translateY(-60px);
                filter: blur(4px);
            }
            }
        </style>
    </head>
    <body>
       <div id="main-panel">
        <h1 id="titulo-juego">FABRICA DE GALLETONES</h1>
        <div id="logros-panel">
        <h2 style="color:#fffaf0;">üèÖ Logros</h2>
        <ul id="lista-logros" style="list-style:none; padding:0;"></ul>
        </div>
        <h1 style="color:#a67c52; text-shadow:0 2px 8px #fff6;">Clicker Galleton</h1>
        <div style="position:relative; display:inline-block;">
        <img id="cookie" src="https://static.vecteezy.com/system/resources/previews/049/576/240/non_2x/a-cartoon-chocolate-chip-cookie-png.png" />
        <div id="contador"><span class="texto-numero">Galletas: 1K</span></div>
        <div id="monedas"><span class="texto-numero">Monedas: 500</span></div>
        <button id="vender">Vender Galletones</button>
        <div>
            <button class="mejora" id="mejoraclick">Mejora de Click (x2) - 50 monedas</button>
            <button class="mejora" id="mejoraauto">Mejora de Auto (Auto +1/s) - 100 monedas</button>
            <button class="mejora" id="mejoraventa">Mejora de Venta (x2) - 150 monedas</button>

        </div>
        <div id="control-sonido">
        <button id="subirVolumen">üîä Subir volumen</button>
        <button id="bajarVolumen">üîâ Bajar volumen</button>
        <button id="resetVolumen">üîÅ Volumen predeterminado</button>
        </div>
        <audio id="popSound" src="galleta.mp3" preload="auto"></audio>
        <audio id="accion" src="1.mp3"></audio>
        <audio id="vendergalletas" src="vender.mp3"></audio>
        <audio id="musica" src="cancion.mp3" preload="auto" autoplay loop></audio>
        <audio id="logro" src="logro.mp3" preload="auto"></audio>
        <script>
            let galletas = 0;
            let monedas = 0;
            let multiplicadorClick = 1;
            let multiplicadorVenta = 1;
            let autoNivel = 0;
            let precioMejoraClick = 25;
            let precioMejoraAuto = 50;
            let precioMejoraVenta = 100;
            const logros = {
            galletas10: false,
            galletas100: false,
            galletas1000: false,
            galletas10000: false,       
            monedas10: false,
            monedas50: false,
            monedas100: false,
            monedas1000: false,
            monedas10000: false,                         
            clickX2: false,
            clickX5: false,
            clickX10: false,
            clickX20: false,
            };
            
            function verificarLogros() {
            if (galletas >= 10 && !logros.galletas10) {
                mostrarLogro("üç™ ¬°Primeros 10 galletones!");
                logros.galletas10 = true;

         } if (galletas >= 100 && !logros.galletas100) {
                mostrarLogro("üç™ ¬°100 galletones conseguidos!");
                logros.galletas100 = true;
            }
            if (galletas >= 1000 && !logros.galletas1000) {
                mostrarLogro("üç™ ¬°1,000 QUE RAPIDO!");
                logros.galletas1000 = true;
            }
            if (galletas >= 10000 && !logros.galletas10000) {
                mostrarLogro("üç™ ¬°Se veria mejor como 10K!");
                logros.galletas10000 = true;
            }
            if (monedas >= 10 && !logros.monedas10) {
                mostrarLogro("üí∞ ¬°Primeras 10 monedas conseguidas!");
                logros.monedas10 = true;
            }
            if (monedas >= 100 && !logros.monedas100) {
                mostrarLogro("üí∞ ¬°100 monedas conseguidas!");
                logros.monedas100 = true;
            }
            if (monedas >= 1000 && !logros.monedas1000) {
                mostrarLogro("üí∞ ¬°1,000 monedas conseguidas!");
                logros.monedas1000 = true;
            }                   
            if (monedas >= 10000 && !logros.monedas10000) {
                mostrarLogro("üí∞ ¬°10,000 monedas conseguidas!");
                logros.monedas10000 = true;
            }       
            if (multiplicadorClick >= 4 && !logros.clickX2) {
                mostrarLogro("üî• ¬°Multiplicador de click x2!");
                logros.clickX2 = true;
            }   
            if (multiplicadorClick >= 8 && !logros.clickX5) {
                mostrarLogro("üî• ¬°Multiplicador de click x5!");
                logros.clickX5 = true;
            }   
            if (multiplicadorClick >= 16 && !logros.clickX10) {
                mostrarLogro("üî• ¬°Multiplicador de click x10!");
                logros.clickX10 = true;
            }   
   } 
            function mostrarLogro(texto) {
            const lista = document.getElementById("lista-logros");
            const yaExiste = Array.from(lista.children).some(item => item.textContent === texto);
            if (yaExiste) return;

            const item = document.createElement("li");
            item.textContent = texto;
            item.className = "logro-item";
            lista.appendChild(item);
            
            const sonido = document.getElementById("logro");
            sonido.currentTime = 0;
            sonido.play();
            {
            lanzarConfeti();
            for (let i = 140; i < 200; i++) {
                onfeti.style.width = Math.random() * 8 + 6 + "px";
                confeti.style.height = confeti.style.width;
                confeti.style.animationDuration = (Math.random() * 1 + 1.5) + "s";
             lanzarFuego();
                confeti.style.left = Math.random() * window.innerWidth + "px";
                confeti.style.top = Math.random() * window.innerHeight + "px";
                confeti.style.background = `hsl(${Math.random() * 360}, 100%, 50%)`;
                document.body.appendChild(confeti);
                setTimeout(() => confeti.remove(), 2000);   
            }
           
            } // üéâ ¬°Confeti por cada logro!
            }

            function lanzarConfeti() {
            for (let i = 0; i < 30; i++) {
                const confeti = document.createElement("div");
                confeti.className = "confeti";
                confeti.style.left = Math.random() * window.innerWidth + "px";
                confeti.style.background = `hsl(${Math.random() * 360}, 100%, 50%)`;
                document.body.appendChild(confeti);
                setTimeout(() => confeti.remove(), 2000);
            }
            function lanzarFuego() {
            const fuego = document.createElement("div");
            fuego.className = "fuego-logro";
            fuego.style.left = (window.innerWidth / 2 - 40) + "px"; // centrado horizontal
            fuego.style.top = "40px"; // posici√≥n vertical cerca del t√≠tulo

            document.body.appendChild(fuego);
            setTimeout(() => fuego.remove(), 800);
            }
            }

            document.addEventListener("DOMContentLoaded", () => {
            const musica = document.getElementById("musica");

            document.getElementById("subirVolumen").addEventListener("click", () => {
                musica.volume = Math.min(1, musica.volume + 0.1);
            });

            document.getElementById("bajarVolumen").addEventListener("click", () => {
                musica.volume = Math.max(0, musica.volume - 0.1);
            });

            document.getElementById("resetVolumen").addEventListener("click", () => {
                musica.volume = 0.5; // Valor por defecto
            });
            });
            document.addEventListener("DOMContentLoaded", () => {
            const musica = document.getElementById("musica");

            document.body.addEventListener("click", () => {
                musica.play();
            }, { once: true });
            });


            document.getElementById("mejoraclick").onclick = function() {
                if (monedas >= precioMejoraClick) {
                    monedas -= precioMejoraClick;
                    multiplicadorClick *= 2;
                    precioMejoraClick = Math.floor(precioMejoraClick * 2.5);
                    this.textContent = "Mejora de Click (x" + multiplicadorClick + ") - " + precioMejoraClick + " monedas";
                    actualizar();

                    this.classList.add("clicker");
                    setTimeout(() => this.classList.remove("clicker"), 200);

                    const popSound = document.getElementById("accion");
                    popSound.currentTime = 0;
                    popSound.volume = 1;
                    popSound.play();
                }
            }
            
            document.getElementById("cookie").onclick = function(e){
                galletas += multiplicadorClick;
                actualizar();

                this.classList.add("clicked");
                 setTimeout(() => this.classList.remove("clicked"), 200);

                const popSound = document.getElementById("popSound");
                popSound.currentTime = 0;
                popSound.volume = 1;
                popSound.play();

                crearParticula(e);
            };
            function crearParticula(e) {
                const cookie = document.getElementById("cookie");
                const rect = cookie.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;

                const particle = document.createElement("div");
                particle.className = "particle";
                particle.textContent = "+" + abreviarnumero(multiplicadorClick);
                particle.style.left = (x + rect.left - 12) + "px";
                particle.style.top = (y + rect.top - 12) + "px";

                document.body.appendChild(particle);
                setTimeout(() => particle.remove(), 800);
            }

            document.getElementById("vender").onclick = function() {
                if (galletas > 0) {
                    monedas += galletas * multiplicadorVenta;
                    galletas = 0;
                    actualizar();

                    this.classList.add("cash");
                    setTimeout(() => this.classList.remove("cash"), 200);

                    const popSound = document.getElementById("vendergalletas");
                    popSound.currentTime = 0;
                    popSound.volume = 1;
                    popSound.play();

                }
            }

          document.getElementById("mejoraauto").onclick = function() {
                if (monedas >= precioMejoraAuto) {
                    monedas -= precioMejoraAuto;
                    autoNivel++;
                    precioMejoraAuto = Math.floor(precioMejoraAuto * 2);
                    this.textContent = "Mejora de Auto (Auto +" + autoNivel + "/s) - " + precioMejoraAuto + " monedas";
                    actualizar();

                    this.classList.add("auto");
                    setTimeout(() => this.classList.remove("auto"), 200);

                    const popSound = document.getElementById("accion");
                    popSound.currentTime = 0;
                    popSound.volume = 1;
                    popSound.play();
                    
                }
            }
            

            setInterval(function() {
                if (autoNivel > 0) {
                    galletas += autoNivel * multiplicadorClick;
                    actualizar();
                }
            }, 1000);

            document.getElementById("mejoraventa").onclick = function() {
                if (monedas >= precioMejoraVenta) {
                    monedas -= precioMejoraVenta;
                    multiplicadorVenta *= 1.5;
                    precioMejoraVenta = Math.floor(precioMejoraVenta * 2.5);
                    this.textContent = "Mejora de Venta (x" + multiplicadorVenta + ") - " + precioMejoraVenta + " monedas";
                    actualizar(); 

                    this.classList.add("venta");
                    setTimeout(() => this.classList.remove("venta"), 200);

                    const popSound = document.getElementById("accion");
                    popSound.currentTime = 0;
                    popSound.volume = 1;
                    popSound.play();
                }
                
            }
            function abreviarnumero(num) {
                const decimales = 2;
                if (num >= 1e21) return (num / 1e21).toFixed(2) + "eC";
                if (num >= 1e18) return (num / 1e18).toFixed(2) + "eB";
                if (num >= 1e15) return (num / 1e15).toFixed(2) + "eA";
                if (num >= 1e12) return (num / 1e12).toFixed(2) + "T";
                if (num >= 1e9) return (num / 1e9).toFixed(2) + "B";
                if (num >= 1e6) return (num / 1e6).toFixed(2) + "M";
                if (num >= 1e3) return (num / 1e3).toFixed(2) + "K";
                return num.toFixed(decimales); 
                
            }
            function abreviarEntero(num) {
                if (num >= 1e21) return Math.floor(num / 1e21) + "eC";
                if (num >= 1e18) return Math.floor(num / 1e18) + "eB";
                if (num >= 1e15) return Math.floor(num / 1e15) + "eA";
                if (num >= 1e12) return Math.floor(num / 1e12) + "T";
                if (num >= 1e9) return Math.floor(num / 1e9) + "B";
                if (num >= 1e6) return Math.floor(num / 1e6) + "M";
                if (num >= 1e3) return Math.floor(num / 1e3) + "K";
                return Math.floor(num); // ‚Üê sin decimales
            }


            function actualizar() {
                document.getElementById("contador").textContent = "Galletones: " + abreviarnumero(galletas);
                document.getElementById("monedas").textContent = "Monedas: " + abreviarnumero(monedas);
                document.getElementById("mejoraventa").textContent = "Mejora de Venta (x" + abreviarnumero(multiplicadorVenta) + ") - " + abreviarnumero(precioMejoraVenta) + " monedas";
                document.getElementById("mejoraclick").textContent = "Mejora de Click (x" + abreviarnumero(multiplicadorClick) + ") - " + abreviarnumero(precioMejoraClick) + " monedas";
                document.getElementById("mejoraauto").textContent = "Mejora de Auto (Nvl=" + abreviarEntero(autoNivel) + ") - " + abreviarnumero(precioMejoraAuto) + " monedas";
                verificarLogros();
            }

            actualizar();
        </script>
    </body>
